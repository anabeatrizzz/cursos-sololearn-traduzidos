Este curso é de propriedade do aplicativo [SoloLearn](https://www.google.com/url?q=https://play.google.com/store/apps/details?id%3Dcom.sololearn&sa=D&ust=1576783845736000&usg=AFQjCNGtodbaSu06Z4kEDTksKn0tg7eK-w) e foi traduzido por [Ana Beatriz Augusto](https://www.linkedin.com/in/anabeatrizz/) usando os recursos [Reverso Context](https://context.reverso.net/translation/) e [Google Tradutor](https://translate.google.com.br/?hl=pt-BR).

# Indice
- [WHERE](#where)
  - [Operadores do SQL](#operadores-do-sql)
  - [BETWEEN](#between)
  - [Valores textuais](#valores-textuais)
- [Filtrando com AND e OR](#filtrando-com-and-e-or)
  - [Operadores lógicos](#operadores-lógicos)
  - [OR](#or)
  - [Combinando AND e OR](#combinando-and-e-or)
- [IN e NOT IN](#in-e-not-in)
  - [IN](#in)
  - [NOT IN](#not-in)
- [Colunas customizadas](#colunas-customizadas)
  - [A função CONCAT](#a-função-concat)
  - [AS](#as)
  - [Operadores aritméticos](#operadores-aritméticos)
- [Funções](#funções)
  - [A função UPPER](#a-função-upper)
  - [SQRT e AVG](#sqrt-e-avg)
  - [A função SUM](#a-função-sum)
- [Sub consultas](#sub-consultas)
- [LIKE e MIN](#like-e-min)
  - [LIKE](#like)
  - [A função MIN](#a-função-min)

# WHERE
#### [Voltar ao indice](#indice)
O `WHERE` é usado para mostrar apenas registros que preenchem um critério específico. 

A sintaxe do `WHERE`: 
```sql
SELECT lista_de_colunas
FROM nome_da_tabela
WHERE condição;
```
Considere a seguinte tabela:

ID|Nome|Sobrenome|Cidade
---|---|---|---
1|John|Smith|Nova York
2|David|Williams|Los Angeles
3|Chloe|Anderson|Chicago
4|Emily|Adams|Houston
5|James|Roberts|Filadélfia
6|Andrew|Thomas|Nova York
7|Daniel|Harris|Nova York
8|Charlotte|Walker|Chicago
9|Samuel|Clark|San Diego
10|Anthony|Young|Los Angeles

Na tabela, podemos selecionar um registro específico: 
```sql
SELECT * FROM clientes 
WHERE ID = 7;
```

ID|Nome|Sobrenome|Cidade
---|---|---|---
7|Daniel|Harris|Nova York

### Operadores do SQL
#### [Voltar ao indice](#indice)
Operadores de comparação e operadores lógicos são usados na afirmação `WHERE` para filtrar os dados a serem selecionados. 

Os seguintes operadores de comparação podem ser usados com a afirmação `WHERE`:

Operador|Descrição
---|---
`=`|Igual
`!=`|Não igual
`>`|Maior que
`<`|Menor que
`>=`|Maior ou igual a
`<=`|Menor ou igual a
`BETWEEN`|Entre um número e outro

Por exemplo, podemos mostrar todos os nomes listados em nossa tabela com excessão daquele que tem o ID 5.
```sql
SELECT * FROM clientes
WHERE ID != 5;
```
__Resultado:__

ID|Nome|Sobrenome|Cidade
---|---|---|---
1|John|Smith|Nova York
2|David|Williams|Los Angeles
3|Chloe|Anderson|Chicago
4|Emily|Adams|Houston
6|Andrew|Thomas|Nova York
7|Daniel|Harris|Nova York
8|Charlotte|Walker|Chicago
9|Samuel|Clark|San Diego
10|Anthony|Young|Los Angeles

Como pode ver, o registro com o ID de número 5 está excluído da lista.

### BETWEEN
#### [Voltar ao indice](#indice)
O operador `BETWEEN` seleciona valores dentro de um intervalo. O primeiro valor deve ser o limite mínimo e o segundo valor, o limite máximo. 

A sintaxe do operador `BETWEEN` é a seguinte: 
```sql
SELECT nome(s)_da_coluna(s) 
FROM nome_da_tabela 
WHERE nome_da_coluna
BETWEEN valor1 AND valor2;
```
A seguinte afirmação SQL seleciona todos os registros com IDs que estão entre 3 e 7:
```sql
SELECT * FROM clientes
WHERE ID BETWEEN 3 AND 7;
```
__Resultado:__

ID|Nome|Sobrenome|Cidade
---|---|---|---
3|Chloe|Anderson|Chicago
4|Emily|Adams|Houston
5|James|Roberts|Filadélfia
6|Andrew|Thomas|Nova York
7|Daniel|Harris|Nova York

Como pode ver, os valores mínimo e máximo são incluídos.
### Valores textuais
#### [Voltar ao indice](#indice)
Quando trabalhamos com colunas que contem textos, devemos colocar qualquer texto que apareça na afirmação entre __aspas simples (')__. 

A seguinte afirmação SQL seleciona todos os registros onde a coluna Cidade tem o valor 'Nova York'.
```sql
SELECT ID, Nome, Sobrenome, Cidade 
FROM clientes 
WHERE Cidade = 'Nova York';
```

ID|Nome|Sobrenome|Cidade
---|---|---|---
1|John|Smith|Nova York
6|Andrew|Thomas|Nova York
7|Daniel|Harris|Nova York

Se seu texto contem um apóstrofo, você deve usar duas aspas simples para que o apóstrofo apareça. Por exemplo: 'Can"t'

# Filtrando com AND e OR
#### [Voltar ao indice](#indice)
### Operadores lógicos
#### [Voltar ao indice](#indice)
Podem ser usados para combinar dois valores Boolean e retornar um resultado verdadeiro, falso ou nulo.<br>Os seguintes operadores podem ser usados:

Operador|Descrição
---|---
`AND`|Verdadeiro se ambas expressões forem verdadeiras.
`OR`|Verdadeiro se uma das expressões for verdadeira.
`IN`|Verdadeiro se o operando é igual a um de uma lista de expressões.
`NOT`|Retorna verdadeiro se a expressão não for verdadeira.

Quando mostramos dados usando a afirmação `SELECT`, usamos operadores lógicos na afirmação `WHERE` para combinar múltiplas condições. 

Se você quer selecionar linhas que satisfaçam todas as condições, use o operador lógico `AND`.

ID|Nome|Sobrenome|Idade
---|---|---|---
1|John|Smith|35
2|David|Williams|23
3|Chloe|Anderson|27
4|Emily|Adams|34
5|James|Roberts|31
6|Andrew|Thomas|45
7|Daniel|Harris|30

Para encontrar os nomes dos clientes que estão entre 30 a 40 anos de idade, escreva a seguinte consulta:
```sql
SELECT ID, Nome, Sobrenome, Idade
FROM clientes WHERE Idade >= 30 AND Idade <= 40;
```
Resultado:

ID|Nome|Sobrenome|Idade
---|---|---|---
1|John|Smith|35
4|Emily|Adams|34
5|James|Roberts|31
7|Daniel|Harris|30

Você pode combinar quantas condições quiser para que os resultados desejados sejam mostrados.
### OR
#### [Voltar ao indice](#indice)
Se você quer selecionar linhas que satisfaçam pelo menos uma das condições dadas, você pode usar o operador lógico `OR`. 

A seguinte tabela descreve como o operador lógico `OR` funciona:

Condicao1|Condicao2|Resultado
---|---|---
Verdadeira|Verdadeira|Verdadeiro
Verdadeira|Falsa|Verdadeiro
Falsa|Verdadeira|Verdadeiro
Falsa|Falsa|Falso

Por exemplo, se você quer encontrar os clientes que vivem em Nova York ou em Chicago, a consulta iria ser assim:
```sql
SELECT * FROM clientes
WHERE Cidade = 'Nova York' OR Cidade = 'Chicago';
```
__Resultado:__

ID|Nome|Sobrenome|Cidade
---|---|---|---
1|John|Smith|Nova York
3|Chloe|Anderson|Chicago
6|Andrew|Thomas|Nova York
7|Daniel|Harris|Nova York
8|Charlotte|Walker|Chicago

Você pode usar `OR` com duas ou mais condições.

### Combinando AND e OR
#### [Voltar ao indice](#indice)
As condições `AND` e `OR` do SQL podem ser combinadas para testar múltiplas condições em uma consulta. Esses dois operadores são chamados de operadores conjuntivos.

Quando combinamos essas condições, é importante usar parênteses para ordenar, assim, se sabe a ordem para avaliar a condição.

Considere a seguinte tabela:

ID|Nome|Sobrenome|Cidade|Idade
---|---|---|---|---
1|John|Smith|Nova York|35
2|David|Williams|Los Angeles|23
3|Chloe|Anderson|Chicago|27
4|Emily|Adams|Houston|34
5|James|Roberts|Filadélfia|31
6|Andrew|Thomas|Nova York|45
7|Daniel|Harris|Nova York|30
8|Charlotte|Walker|Chicago|35
9|Samuel|Clark|San Diego|20
10|Anthony|Young|Los Angeles|33

A afirmação abaixo seleciona todos os clientes da cidade de Nova York E que tenham a idade igual a 30 OU 35:
```sql
SELECT * FROM clientes
WHERE Cidade = 'Nova York' AND (Idade = 30 OR Idade = 35);
```
__Resultado:__

ID|Nome|Sobrenome|Cidade|Idade
---|---|---|---|---
1|John|Smith|Nova York|35
7|Daniel|Harris|Nova York|30

Você pode aninhar quantas condições quiser. 

# IN e NOT IN
#### [Voltar ao indice](#indice)
### IN
#### [Voltar ao indice](#indice)
O operador `IN` é usado quando queremos comparar uma coluna com mais de um valor. 

Por exemplo, você talvez precise selecionar todos os clientes de Nova York, Los Angeles e Chicago.<br>Com a condição `OR`, nosso SQL iria ficar assim:
```sql
SELECT * FROM clientes
WHERE Cidade = 'Nova York'
OR Cidade = 'Los Angeles'
OR Cidade = 'Chicago';
```
__Resultado:__

ID|Nome|Sobrenome|Cidade
---|---|---|---
1|John|Smith|Nova York
2|David|Williams|Los Angeles
3|Chloe|Anderson|Chicago
6|Andrew|Thomas|Nova York
7|Daniel|Harris|Nova York
8|Charlotte|Walker|Chicago
10|Anthony|Young|Los Angeles

Você pode conseguir o mesmo resultado com uma única condição `IN`, invés de múltiplas condições `OR`:
```sql
SELECT * FROM clientes
WHERE Cidade IN ('Nova York', 'Los Angeles', 'Chicago'); 
```
Isso iria produzir o mesmo resultado:

ID|Nome|Sobrenome|Cidade
---|---|---|---
1|John|Smith|Nova York
2|David|Williams|Los Angeles
3|Chloe|Anderson|Chicago
6|Andrew|Thomas|Nova York
7|Daniel|Harris|Nova York
8|Charlotte|Walker|Chicago
10|Anthony|Young|Los Angeles

Note o uso dos parênteses na sintaxe.

### NOT IN
#### [Voltar ao indice](#indice)
O operador `NOT IN` nos permite excluir uma lista de valores específicos de uma tabela-resultado.

Se adicionarmos `NOT` antes de `IN` na nossa consulta anterior, os clientes que vivem nessas cidades iriam ser excluídos:
```sql
SELECT * FROM clientes
WHERE Cidade NOT IN ('Nova York', 'Los Angeles', 'Chicago');
```
__Resultado:__

ID|Nome|Sobrenome|Cidade
---|---|---|---
4|Emily|Adams|Houston
5|James|Roberts|Filadélfia
9|Samuel|Clark|San Diego

# Colunas customizadas
#### [Voltar ao indice](#indice)
### A função CONCAT
#### [Voltar ao indice](#indice)
A função `CONCAT` é usada para combinar dois ou mais valores textuais e retornar o texto combinado. 

Vamos combinar Nome com Cidade separando com vírgula:
```sql
SELECT CONCAT(Nome, ',', Cidade) FROM customers;
```
Resultado:

CONCAT(Nome, ' , ' , Cidade)|
---|
John, Nova York|
David, Los Angeles|
Chloe, Chicago|
Emily, Houston|
James, Filadélfia|
Andrew, Nova York|
Daniel, Nova York|
Charlotte, Chicago|
Samuel, San Diego|
Anthony, Los Angeles|

A função `CONCAT()` leva dois ou mais parâmetros.
### AS
#### [Voltar ao indice](#indice)
Usar `CONCAT` resulta em uma nova coluna. Há um nome padrão para essa coluna-resultado. Você pode mudar o nome dela usando o comando `AS`:
```sql
SELECT CONCAT(Nome,', ', Cidade) AS nova_coluna
FROM clientes;
```
E quando você executar a consulta, o nome da coluna terá sido mudado:

nova_coluna|
---|
John, Nova York|
David, Los Angeles|
Chloe, Chicago|
Emily, Houston|
James, Filadélfia|
Andrew, Nova York|
Daniel, Nova York|
Charlotte, Chicago|
Samuel, San Diego|
Anthony, Los Angeles|

### Operadores aritméticos
#### [Voltar ao indice](#indice)
Operadores aritméticos fazem operações aritméticas com operadores numéricos. Os operadores aritméticos incluem: adição (+), subtração (-), multiplicação (*) e divisão (/). 

A tabela __trabalhadores__ a seguir mostra nomes de trabalhadores e salários:

ID|Nome|Sobrenome|Salario
---|---|---|---
1|John|Smith|2000
2|David|Williams|1500
3|Chloe|Anderson|3000
4|Emily|Adams|4500
5|James|Roberts|2000
6|Andrew|Thomas|2500
7|Daniel|Harris|3000
8|Charlotte|Walker|3500
9|Samuel|Clark|4000
10|Anthony|Young|5000

O exemplo abaixo adiciona 500 a cada salário e seleciona o resultado:
```sql
SELECT ID, Nome, Sobrenome, Salario+500 AS Salario
FROM trabalhadores;
```
__Resultado:__

ID|Nome|Sobrenome|Salario
---|---|---|---
1|John|Smith|2500
2|David|Williams|2000
3|Chloe|Anderson|3500
4|Emily|Adams|5000
5|James|Roberts|2500
6|Andrew|Thomas|3000
7|Daniel|Harris|3500
8|Charlotte|Walker|4000
9|Samuel|Clark|4500
10|Anthony|Young|5500

Parênteses podem ser usados para indicar operações que precisam ser executadas primeiro. Também são usados para melhorar a leitura do código.
# Funções
#### [Voltar ao indice](#indice)
### A função UPPER
#### [Voltar ao indice](#indice)
A função `UPPER` converte todas as letras de um texto específico para letras maiúsculas.<br>A função `LOWER` converte o texto para letras minúsculas.

A seguinte consulta SQL coloca todos os Sobrenome em maiúsculo:
```sql
SELECT Nome, UPPER(Sobrenome) AS Sobrenome
FROM trabalhadores;
```
__Resultado:__

Nome|Sobrenome
---|---
John|SMITH
David|WILLIAMS
Chloe|ANDERSON
Emily|ADAMS
James|ROBERTS
Andrew|THOMAS
Daniel|HARRIS
Charlotte|WALKER
Samuel|CLARK
Anthony|YOUNG

Se há caracteres no texto que não são letras, essa função não terá efeito nelas. 

### SQRT e AVG
#### [Voltar ao indice](#indice)
A função `SQRT` retorna a raiz quadrada de um valor passado como argumento. 

Vamos calcular a raiz quadrada de cada salário:
```sql
SELECT Salario, SQRT(Salario)
FROM trabalhadores;
```
__Resultado:__

Salario|SQRT(Salario)
---|---
2000|44.72
1500|38.72
3000|54.77
4500|67.08
2000|44.72
2500|50
3000|54.77
3500|59.16
4000|63.24
5000|70.71

De maneira similar, a função `AVG` retorna a média de uma coluna numérica:
```sql
SELECT AVG(Salario) FROM trabalhadores;
```
__Resultado:__

AVG(Salario)|
---|
3100.0000|

Outra maneira de fazer o `SQRT` é usar `POWER` com o expoente 1/2. Entretanto, `SQRT` parece executar mais rapidamente do que `POWER` neste caso.
### A função SUM
#### [Voltar ao indice](#indice)
A função `SUM` é usada para calcular a soma dos valores de uma coluna. 

Por exemplo, para saber a soma de todos os salários da tabela trabalhadores, nossa consulta SQL ficaria assim:
```sql
SELECT SUM(Salario) FROM trabalhadores;
```
__Resultado:__

SUM(Salario)|
---|
31000|

A soma de todos os salários é 31000
# Sub consultas
#### [Voltar ao indice](#indice)
Uma __subconsulta__ é uma consulta dentro de outra consulta. 

Se quisermos a lista de todos os empregados cuja os salários são __maiores__ do que a média, primeiro calculamos a média:
```sql
SELECT AVG(Salario) FROM trabalhadores;
```
Como já sabemos a média, podemos usar um simples `WHERE` para listar os salários que são maiores que esse número.
```sql
SELECT Nome, Salario FROM trabalhadores
WHERE Salario > 3100
ORDER BY Salario DESC;
```
__Resultado:__

Nome|Salario
---|---
Anthony|5000
Emily|4500
Samuel|4000
Charlotte|3500

O `DESC` classifica os resultados em ordem __decrescente__.<br>De maneira similar, o `ASC` classifica os resultados em ordem __crescente__. 

Uma única subconsulta retornará o mesmo resultado mais facilmente.
```sql
SELECT Nome, Salario FROM trabalhadores
WHERE Salario > (SELECT AVG(Salario) FROM trabalhadores)
ORDER BY Salario DESC;
```
O mesmo resultado será mostrado.

Nome|Salario
---|---
Anthony|5000
Emily|4500
Samuel|4000
Charlotte|3500

Coloque a subconsulta entre __parênteses__.<br>Note que não há ponto e vírgula no fim da subconsulta, pois é parte da nossa única consulta.

# LIKE e MIN
#### [Voltar ao indice](#indice)
### LIKE
#### [Voltar ao indice](#indice)
É útil quando estamos especificando uma __condição de pesquisa__ dentro de uma afirmação `WHERE`.
```sql
SELECT nome(s)_da(s)_coluna(s)
FROM nome_da_tabela
WHERE nome_da_coluna LIKE padrão;
```
O padrão de combinação do SQL permite que você use "_" para encontrar qualquer caractere e "%" para encontrar um número arbitrário de caracteres (incluindo nenhum caractere). 

Por exemplo, para selecionarmos trabalhadores cuja o primeiro nome comece com a letra __A__, usaríamos a seguinte consulta:
```sql
SELECT * FROM trabalhadores
WHERE Nome LIKE 'A%';
```
__Resultado:__

ID|Nome|Sobrenome|Salario
---|---|---|---
6|Andrew|Thomas|2500
10|Anthony|Young|5000

A seguinte consulta SQL seleciona todos os empregados com o sobrenome terminado em "s":
```sql
SELECT * FROM trabalhadores
WHERE Sobrenome LIKE '%s';
```
__Resultado:__

ID|Nome|Sobrenome|Salario
---|---|---|---
2|David|Williams|1500
4|Emily|Adams|4500
5|James|Roberts|2000
6|Andrew|Thomas|2500
7|Daniel|Harris|3000

O `%` pode ser usado __múltiplas__ vezes dentro do mesmo padrão.
### A função MIN
#### [Voltar ao indice](#indice)
É usada para retornar o valor mínimo de uma expressão numa afirmação `SELECT`. 

Por exemplo, você talvez queira saber o salário mínimo dos trabalhadores.
```sql
SELECT MIN(Salario) AS Salario FROM trabalhadores;
```

Salario|
---|
1500|

Todas as funções SQL podem ser combinadas para se criar uma única expressão.

Este curso é de propriedade do aplicativo [SoloLearn](https://www.google.com/url?q=https://play.google.com/store/apps/details?id%3Dcom.sololearn&sa=D&ust=1576783845736000&usg=AFQjCNGtodbaSu06Z4kEDTksKn0tg7eK-w) e foi traduzido por [Ana Beatriz Augusto](https://www.linkedin.com/in/anabeatrizz/) usando os recursos [Reverso Context](https://context.reverso.net/translation/) e [Google Tradutor](https://translate.google.com.br/?hl=pt-BR).
