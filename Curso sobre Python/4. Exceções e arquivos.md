Este curso é de propriedade do aplicativo [SoloLearn](https://play.google.com/store/apps/details?id=com.sololearn) e foi traduzido por [Ana Beatriz Augusto](https://www.linkedin.com/in/anabeatrizz) usando os recursos [Reverso Context](https://context.reverso.net/translation/) e [Google Tradutor](https://translate.google.com.br/?hl=pt-BR)

# Índice
- [Exceções](#exceções)
- [Tratando exceções](#tratando-exceções)
- [finally](#finally)
- [Criando exceções](#criando-exceções)
- [Asserções](#asserções)
- [Abrindo arquivos](#abrindo-arquivos)
- [Lendo arquivos](#lendo-arquivos)
- [Escrevendo em arquivos](#escrevendo-em-arquivos)
- [Trabalhando com arquivos](#trabalhando-com-arquivos)

# [Exceções](#índice)
Nós já vimos __exceções__ em códigos anteriores. Ocorrem quando algo dá errado, devido a código incorreto ou entrada incorreta. Quando uma exceção ocorre, o programa para imediatamente.<br>O seguinte código produz a exceção `ZeroDivisionError` quando se tenta dividir 7 por 0.
```python
num1 = 7
num2 = 0
print(num1 / num2)
```

__Resultado:__
```python
>>>
ZeroDivisionError: division by zero
>>>
```

Diferentes exceções são criadas por diferentes motivos.<br>Exceções comuns:<br>`ImportError`: falha na importação;<br>`IndexError`: uma lista está indexada com um numero fora do intervalo;<br>`NameError`: uma variável desconhecida é usada;<br>`SyntaxError`: o código não pode ser analisado corretamente;<br>`TypeError`: uma função é chamada em um valor de tipo inapropriado;<br>`ValueError`: uma função é chamada em um valor de tipo correto, mas com um valor inapropriado.

O Python tem várias outras exceções embutidas, como `ZeroDivisionError` e `OSError`. Bibliotecas de terceiros frequentemente também definem suas proprias exceções.

# [Tratando exceções](#índices)
Para se trata exceções e chama código quando uma exceção ocorre, você pode usar `try`/`except`.<br>O bloco `try` contém código onde talvez ocorra uma exceção. Se essa exceção ocorrer, o código dentro do bloco `try` para de ser executado e o código no bloco `except` é executado. Se nenhum erro ocorrer, o código no bloco `except` não se executa.<br>__Por exemplo:__
```python
try:
   num1 = 7
   num2 = 0
   print(num1 / num2)
   print("Cálculo feito")
except ZeroDivisionError:
   print("Um erro ocorreu")
   print("devido pela divisão por zero")
```

__Resultado:__
```python
>>>
Um erro ocorreu
devido pela divisão por zero
>>>
```

No código acima, o `except` define o tipo de exceção para se tratar (neste caso, `ZeroDivisionError`).

Um `try` pode ter vários blocos `except` diferentes para tratar diferentes exceções.<br>Multiplas exceções também podem ser colocadas em um unico bloco `except` usando parenteses, para o bloco `except` tratar todas elas.
```python
try:
   variavel = 10
   print(variavel + "olá")
   print(variavel / 2)
except ZeroDivisionError:
   print("Dividido por zero")
except (ValueError, TypeError):
   print("Um erro ocorreu")
```

__Resultado:__
```python
>>>
Um erro ocorreu
>>>
```

Um `except` sem qualquer exceção especificada irá pegar todos os erros. Estes devem ser usados moderadamente, pois eles podem pegar erros inesperados e esconder erros de programação.<br>__Por exemplo:__
```python
try:
   palavra = "spam"
   print(palavra / 0)
except:
   print("Um erro ocorreu")
```

__Resultado:__
```python
>>>
Um erro ocorreu
>>>
```

Tratar exceções é particularmente util quando se lida com entrada de usuário.

# [finally](#índice)
Para ter certeza que algum código irá ser executado não importando qual erro aconteça, você pode usar `finally`. Ele é colocado no fim de `try`/`except`. Código dentro de um `finally` sempre se executa depois da execução do código no bloco `try` e possivelmente do bloco `except`.
```python
try:
   print("Olá")
   print(1 / 0)
except ZeroDivisionError:
   print("Dividido por zero")
finally:
   print("Este código será exectado não importando o que aconteça")
```

__Resultado:__
```python
>>>
Olá
Dividido por zero
Este código será exectado não importando o que aconteça
>>>
```

Código dentro de um `finally` se executa até mesmo quando uma exceção não pega ocorrer em um dos blocos anteriores.
```python
try:
   print(1)
   print(10 / 0)
except ZeroDivisionError:
   print(variavel_desconhecida)
finally:
   print("Isso é executado por ultimo")
```

__Resultado:__
```python
>>>
1
Isso é executado por ultimo

ZeroDivisionError: division by zero
During handling of the above exception, another exception occurred:
NameError: name 'unknown_var' is not defined
>>>
```
